<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Internship Project</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <h2 class="logo">Pavan</h2>
<nav class="navigation">
    <a href="#"><b class="color">Home</b></a>
    <a href="#"><b class="color">Explore</b></a>
    <a href="#"><b class="color">Services</b></a>
    <a href="#"><b class="color">Contact us</b> </a>
    <button class="btnLogin-popup">Log in</button>
</nav>
</header>
<div class="wrapper">
    <span class="icon-close">
        <ion-icon name="close"></ion-icon>
    </span>

    <div class="form-box login">
        <h2>Login</h2>
        <form action="#">
            <div class="input-box">
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
                <input id="login_email" type="email" required>
                <label> Email </label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                <input id="login_password" type="password" required>
                <label> Password </label>
            </div>
            <div class="remember-forgot">
                <label><input type="checkbox"> Remember me</label>
                <a href="#">Forgot Password?</a>
            </div>    
                <button type="submit" class="btn" id="login">Login</button>
            <div class="login-register">
                <p>
                    Don't have an account? <a href="#" class="register-link">Register</a>
                </p>

            </div>
        </form>

    </div>
    <div class="form-box register">
        <h2>Registration</h2>
        <form action="#">
            <div class="input-box">
                <span class="icon"><ion-icon name="person"></ion-icon></span>
                <input type="text" required>
                <label> Username </label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
                <input id="email" type="email" required>
                <label> Email </label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                <input id="password" type="password" required>
                <label> Password </label>
            </div>
            <div class="remember-forgot">
                <label><input type="checkbox"> I agree to terms & conditions</label>
            </div>    
                <button type="submit" class="btn" id="register">Register</button>
            <div class="login-register">
                <p>
                    Already have an account? <a href="#" class="login-link">Login</a>
                </p>
               
            </div>

        </form>
    </div>
</div>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBfF-0NnFaKqqQPdoxErVNxIHiPDCKxOtE",
    authDomain: "nexus-info-fe4d8.firebaseapp.com",
    projectId: "nexus-info-fe4d8",
    storageBucket: "nexus-info-fe4d8.appspot.com",
    messagingSenderId: "594473052248",
    appId: "1:594473052248:web:450d89ac5d14b7f76b422d",
    measurementId: "G-H3HY49ZSP9"
  };

  // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth();


    document.getElementById("register").addEventListener("click", function() {
          var email =  document.getElementById("email").value;
          var password = document.getElementById("password").value;
          //For new registration
          createUserWithEmailAndPassword(auth, email, password)
          .then((userCredential) => {
            // Signed in 
            const user = userCredential.user;
            console.log(user);
            alert("Registration successfully!!");
            // ...
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            // ..
            console.log(errorMessage);
            alert(error);
          });                 
      });
      //----- End

      //----- Login code start    
      document.getElementById("login").addEventListener("click", function() {
          var email =  document.getElementById("login_email").value;
          var password = document.getElementById("login_password").value;

          signInWithEmailAndPassword(auth, email, password)
          .then((userCredential) => {
            // Signed in 
            const user = userCredential.user;
            console.log(user);
            alert(user.email+" Login successfully!!!");
            document.getElementById('logout').style.display = 'block';
            // ...
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            console.log(errorMessage);
            alert(errorMessage);
          });                 
      });
     
  </script>

<script src="script.js"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
